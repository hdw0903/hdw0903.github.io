<div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-13T23:55:14.000Z" title="2020-04-13T23:55:14.000Z">2020-04-14</time><span class="level-item"><a class="link-muted" href="/categories/ECMAScript6/">ECMAScript6</a></span><span class="level-item">7분 읽기 (대략 1006 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">WeakSet 오브젝트 -ECMAScript</h1><div class="content"><p>value로 오브젝트만 사용하는 WeakSet</p>
<ul>
<li><p>WeakSet</p>
<ul>
<li><a href="/2020/04/14/WeakSet-오브젝트-ECMAScript/#WeakSet">개요</a></li>
<li><a href="/2020/04/14/WeakSet-오브젝트-ECMAScript/#newWeakSet">new WeakSet(): WeakSet 인스턴스 생성</a></li>
<li><a href="/2020/04/14/WeakSet-오브젝트-ECMAScript/#WeakSet_add">add(): value 추가</a></li>
<li><a href="/2020/04/14/WeakSet-오브젝트-ECMAScript/#WeakSet_has">has(): value 존재 여부</a></li>
<li><a href="/2020/04/14/WeakSet-오브젝트-ECMAScript/#WeakSet_delete">delete(): 엘리먼트 삭제</a></li>
</ul>
</li>
</ul>
<a id="more"></a>

<hr>
<h2 id="WeakSet">개요</h2>

<p>WeakSet 오브젝트는 value로 오브젝트만 사용할 수 있으며, string, number, symbol과 같은 값을 사용할 수 없습니다. key는 사용하지 않습니다.</p>
<p>WeakMap 인스턴스와 마찬가지로 GC(Garbage Collection)가 발생하면 WeakSet 인스턴스의 value가 삭제됩니다.<br><mark>WeakMap 오브젝트는 key가 기준이고 WeakSet 오브젝트는 value가 기준입니다.</mark></p>
<hr>
<h2 id="newWeakSet">new WeakSet(): WeakSet 인스턴스 생성</h2>
------------------------------

<p>WeakSet 인스턴스를 생성하여 반환합니다.</p>
<blockquote>
<p>new WeakSet()</p>
</blockquote>
<ul>
<li>파라미터는 선택으로 이터러블 오브젝트를 작성하고, 그 안에 오브젝트를 지정합니다.<br>지정한 오브젝트가 value에 설정됩니다.</li>
</ul>
<figure class="highlight js"><figcaption><span>new WeakSet</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="keyword">let</span> newString = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"문자열"</span>);  </span><br><span class="line"><span class="keyword">let</span> newNumber = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">12345</span>);  </span><br><span class="line"><span class="keyword">const</span> newWeakSet = <span class="keyword">new</span> <span class="built_in">WeakSet</span>([newString, newNumber]);  </span><br><span class="line">  </span><br><span class="line"><span class="number">2.</span> <span class="keyword">try</span> &#123;  </span><br><span class="line"> <span class="keyword">new</span> <span class="built_in">WeakSet</span>([<span class="string">"ABC"</span>, <span class="number">345</span>]);  </span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;  </span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">"object 이외 지정 불가"</span>);  </span><br><span class="line">&#125;;  </span><br><span class="line"><span class="comment">// object 이외 지정 불가</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>String 인스턴스와 Number 인스턴스를 생성합니다. WeakSet 인스턴스를 생성하면서 파라미터에 이터러블 오브젝트를 작성하고, 그 안에 String 인스턴스와 Number 인스턴스를 지정합니다. 각 인스턴스의 메모리 주소가 WeakSet 인스턴스의 value로 설정됩니다.</p>
</li>
<li><p>newWeakSet() 파라미터에 문자열(“ABC”) 또는 숫자(345)를 작성하면 에러가 발생합니다.<br>Object, Function과 같은 오브젝트만 지정할 수 있습니다.</p>
</li>
</ol>
<hr>
<h2 id="WeakSet_add">add(): value 추가</h2>
---------------

<p>WeakSet 인스턴스에 value 를 추가합니다.</p>
<blockquote>
<p>WeakSet.prototype.add()</p>
</blockquote>
<p>파라미터에 value로 설정될 오브젝트를 지정합니다. Object, Function과 같은 오브젝트를 지정할 수 있습니다.<br><del>string, number, boolean, null, undefined, symbol을 작성하면 에러가 발생합니다.</del></p>
<figure class="highlight js"><figcaption><span>add()</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newWeakSet = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();  </span><br><span class="line">  </span><br><span class="line"><span class="number">1.</span> <span class="keyword">let</span> newString = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"문자열"</span>);  </span><br><span class="line">newWeakSet.add(newString);  </span><br><span class="line">  </span><br><span class="line"><span class="number">2.</span> <span class="keyword">let</span> obj = &#123;<span class="attr">sports</span>: <span class="string">"스포츠"</span>&#125;;  </span><br><span class="line">newWeakSet.add(obj); </span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1.  &lt;mark&gt;new String()으로 인스턴스를 생성하여 변수에 할당한 후, add() 파라미터에 지정하면 newWeakSet 인스턴스에 value로 추가됩니다.&lt;/mark&gt; 문자열을 String 인스턴스로 생성하여 지정하였습니다.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2.  Object 오브젝트를 생성하여 변수에 할당하고 add() 파라미터에 지정하면 newWeakSet 인스턴스에 value로 추가됩니다.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">* * *</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;h2 id="WeakSet_has"&gt;has(): value 존재 여부&lt;/h2&gt;</span></span><br><span class="line"><span class="string">------------------</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">WeakSet 인스턴스에서 value 존재 여부를 체크하여 반환합니다.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; WeakSet.prototype.has()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*   파라미터에 WeakSet 인스턴스의 value와 비교할 오브젝트를 지정합니다. 오브젝트가 존재하면 true를 반환하고,  </span></span><br><span class="line"><span class="string">    존재하지 않으면 false를 반환합니다.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js has()</span><br><span class="line"><span class="keyword">let</span> newString = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"문자열"</span>);  </span><br><span class="line"><span class="keyword">const</span> newWeakSet = <span class="keyword">new</span> <span class="built_in">WeakSet</span>([newString]);  </span><br><span class="line">  </span><br><span class="line"><span class="built_in">console</span>.log(newWeakSet.has(newString));  </span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<ul>
<li>has() 파라미터에 지정한 newString 인스턴스가 newWeakSet 인스턴스의 value에 있으므로 true를 반환합니다.</li>
</ul>
<hr>
<h2 id="WeakSet_delete">delete(): 엘리먼트 삭제</h2>
-----------------

<p>WeakSet 인스턴스에서 value가 같은 엘리먼트를 삭제합니다.</p>
<blockquote>
<p>WeakSet.prototype.delete()</p>
</blockquote>
<ul>
<li>파라미터에 WeakSet 인스턴스에서 삭제할 오브젝트를 지정합니다. 오브젝트가 존재하면 value를 삭제하고 true를 반환합니다. 존재하지 않으면 false를 반환합니다.</li>
</ul>
<figure class="highlight js"><figcaption><span>delete()</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newString = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"문자열"</span>);  </span><br><span class="line"><span class="keyword">const</span> newWeakSet = <span class="keyword">new</span> <span class="built_in">WeakSet</span>([newString]);  </span><br><span class="line">  </span><br><span class="line"><span class="built_in">console</span>.log(newWeakSet.delete(newString));  </span><br><span class="line"><span class="built_in">console</span>.log(newWeakSet.has(newString));  </span><br><span class="line"><span class="comment">// true  </span></span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<ul>
<li>new String()으로 인스턴스를 생성하여 newWeakSet 인스턴스에 추가한 상태입니다.<br>delete() 파라미터에 newWeakSet 인스턴스에 존재하는 newString 인스턴스를 지정해 줬으므로 삭제하고 true를 반환합니다. 삭제가 완료되었으므로 has()로 존재 여부를 체크해보면 당연히 false를 반환하게 됩니다.</li>
</ul>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/JavaScript/">JavaScript</a><a class="link-muted mr-2" rel="tag" href="/tags/ECMAScript6/">ECMAScript6</a></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/04/14/Promise%20%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%20-ECMAScript/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Promise 오브젝트 -ECMAScript</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/04/13/Set%20%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%20-ECMAScript/"><span class="level-item">Set 오브젝트 -ECMAScript</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div>